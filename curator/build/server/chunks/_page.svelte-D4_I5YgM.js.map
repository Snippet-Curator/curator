{"version":3,"file":"_page.svelte-D4_I5YgM.js","sources":["../../../.svelte-kit/adapter-node/entries/pages/notebook/_slug_/_page.svelte.js"],"sourcesContent":["import { a6 as await_block } from \"../../../../chunks/index.js\";\nimport { l as setNotelistState, n as getNotelistState, o as signalPageState, p as saveCurrentPage } from \"../../../../chunks/utils2.js\";\nimport { a as Scroll_area } from \"../../../../chunks/scroll-area.js\";\nimport \"@sveltejs/kit/internal\";\nimport \"../../../../chunks/exports.js\";\nimport \"../../../../chunks/utils.js\";\nimport \"clsx\";\nimport \"@sveltejs/kit/internal/server\";\nimport { p as page } from \"../../../../chunks/index2.js\";\nimport { B as BulkEditBtn, P as Pagination, a as BulkToolbar, N as NoteList } from \"../../../../chunks/EditBulkTags.js\";\nimport \"../../../../chunks/EditNote.svelte_svelte_type_style_lang.js\";\nimport \"@emresandikci/pocketbase-query\";\nimport { T as Topbar, a as Topbar_sidebar } from \"../../../../chunks/topbar-sidebar.js\";\nimport { T as Topbar_back } from \"../../../../chunks/topbar-back.js\";\nimport \"dayjs\";\nfunction _page($$renderer, $$props) {\n  $$renderer.component(($$renderer2) => {\n    let notebookID = page.params.slug;\n    let isBulkEdit = false;\n    let selectedNotesID = [];\n    const noteType = { type: \"notebooks\", id: page.params.slug };\n    setNotelistState(notebookID, noteType);\n    const notelistState = getNotelistState(notebookID);\n    signalPageState.savedPages.get(page.url.hash) ?? 1;\n    const updatePage = async (newPage) => {\n      notelistState.clickedPage = newPage;\n      await notelistState.getByNotebook(notebookID, newPage);\n      saveCurrentPage(newPage);\n    };\n    let initialLoading = void 0;\n    let $$settled = true;\n    let $$inner_renderer;\n    function $$render_inner($$renderer3) {\n      $$renderer3.push(`<!---->`);\n      Topbar($$renderer3, {\n        children: ($$renderer4) => {\n          $$renderer4.push(`<!---->`);\n          Topbar_sidebar($$renderer4);\n          $$renderer4.push(`<!----> <!---->`);\n          Topbar_back($$renderer4);\n          $$renderer4.push(`<!----> <div class=\"grow\"></div> `);\n          BulkEditBtn($$renderer4, {\n            get isBulkEdit() {\n              return isBulkEdit;\n            },\n            set isBulkEdit($$value) {\n              isBulkEdit = $$value;\n              $$settled = false;\n            },\n            get selectedNotesID() {\n              return selectedNotesID;\n            },\n            set selectedNotesID($$value) {\n              selectedNotesID = $$value;\n              $$settled = false;\n            }\n          });\n          $$renderer4.push(`<!---->`);\n        }\n      });\n      $$renderer3.push(`<!----> `);\n      Scroll_area($$renderer3, {\n        class: \"mb-20 h-[calc(100vh-60px)] overflow-y-auto\",\n        children: ($$renderer4) => {\n          await_block(\n            $$renderer4,\n            initialLoading,\n            () => {\n              $$renderer4.push(`<br/>`);\n            },\n            () => {\n              Pagination($$renderer4, {\n                currentPage: notelistState.notes.page,\n                totalPages: notelistState.notes.totalPages,\n                changePage: (newPage) => updatePage(newPage)\n              });\n              $$renderer4.push(`<!----> `);\n              if (isBulkEdit) {\n                $$renderer4.push(\"<!--[-->\");\n                BulkToolbar($$renderer4, {\n                  updatePage: () => {\n                    updatePage(notelistState.clickedPage);\n                  },\n                  notelistState,\n                  get isBulkEdit() {\n                    return isBulkEdit;\n                  },\n                  set isBulkEdit($$value) {\n                    isBulkEdit = $$value;\n                    $$settled = false;\n                  },\n                  get selectedNotesID() {\n                    return selectedNotesID;\n                  },\n                  set selectedNotesID($$value) {\n                    selectedNotesID = $$value;\n                    $$settled = false;\n                  }\n                });\n              } else {\n                $$renderer4.push(\"<!--[!-->\");\n              }\n              $$renderer4.push(`<!--]--> `);\n              if (notelistState.notes.totalItems > 0) {\n                $$renderer4.push(\"<!--[-->\");\n                NoteList($$renderer4, {\n                  update: () => updatePage(notelistState.clickedPage),\n                  isBulkEdit,\n                  notes: notelistState.notes,\n                  get selectedNotesID() {\n                    return selectedNotesID;\n                  },\n                  set selectedNotesID($$value) {\n                    selectedNotesID = $$value;\n                    $$settled = false;\n                  }\n                });\n              } else {\n                $$renderer4.push(\"<!--[!-->\");\n                $$renderer4.push(`<br/>`);\n              }\n              $$renderer4.push(`<!--]-->`);\n            }\n          );\n          $$renderer4.push(`<!--]-->`);\n        },\n        $$slots: { default: true }\n      });\n      $$renderer3.push(`<!---->`);\n    }\n    do {\n      $$settled = true;\n      $$inner_renderer = $$renderer2.copy();\n      $$render_inner($$inner_renderer);\n    } while (!$$settled);\n    $$renderer2.subsume($$inner_renderer);\n  });\n}\nexport {\n  _page as default\n};\n"],"names":[],"mappings":"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"}