import{f as m,a as u,c as A}from"../chunks/D6MYdS9h.js";import{p as F,b as h,d as G,g as t,h as T,u as H,e as g,f as k,a as J,s as v}from"../chunks/CqKpht16.js";import{a as K}from"../chunks/HfSINFkk.js";import{c as B,i as $}from"../chunks/cli-iPJS.js";import{s as M,g as O,S as Q,a as R,b as U}from"../chunks/ZeYipwfv.js";import{B as V,P as W,a as X,N as Y}from"../chunks/D-VGJNw3.js";import{p as P}from"../chunks/CB1YDqdC.js";import{T as Z,a as ee,b as te}from"../chunks/IOBaASFu.js";var ae=m('<!> <!> <div class="grow"></div> <!>',1),se=m("<br/>"),re=m("<!> <!> <!>",1),oe=m("<br/>"),le=m("<!> <!>",1);function me(x,w){F(w,!0);let N=T(()=>P.params.slug),n=h(!1),i=h(G([]));const L={type:"notebooks",id:P.params.slug};M(t(N),L);const a=O(t(N)),C=T(()=>U.savedPages.get(P.url.hash)??1),f=async r=>{a.clickedPage=r,await a.getByNotebook(t(N),r),R(r)};let I=h(void 0);H(()=>{a.notebookID=P.params.slug,g(I,f(t(C)),!0)});var D=le(),E=k(D);B(E,()=>te,(r,S)=>{S(r,{children:(_,y)=>{var d=ae(),o=k(d);B(o,()=>Z,(s,p)=>{p(s,{})});var c=v(o,2);B(c,()=>ee,(s,p)=>{p(s,{})});var b=v(c,4);V(b,{get isBulkEdit(){return t(n)},set isBulkEdit(s){g(n,s,!0)},get selectedNotesID(){return t(i)},set selectedNotesID(s){g(i,s,!0)}}),u(_,d)},$$slots:{default:!0}})});var j=v(E,2);Q(j,{class:"mb-20 h-[calc(100vh-60px)] overflow-y-auto",children:(r,S)=>{var _=A(),y=k(_);K(y,()=>t(I),d=>{var o=oe();u(d,o)},d=>{var o=re(),c=k(o);W(c,{get currentPage(){return a.notes.page},get totalPages(){return a.notes.totalPages},changePage:e=>f(e)});var b=v(c,2);{var s=e=>{X(e,{updatePage:()=>{f(a.clickedPage)},get notelistState(){return a},get isBulkEdit(){return t(n)},set isBulkEdit(l){g(n,l,!0)},get selectedNotesID(){return t(i)},set selectedNotesID(l){g(i,l,!0)}})};$(b,e=>{t(n)&&e(s)})}var p=v(b,2);{var q=e=>{Y(e,{update:()=>f(a.clickedPage),get isBulkEdit(){return t(n)},get notes(){return a.notes},get selectedNotesID(){return t(i)},set selectedNotesID(l){g(i,l,!0)}})},z=e=>{var l=se();u(e,l)};$(p,e=>{a.notes.totalItems>0?e(q):e(z,!1)})}u(d,o)}),u(r,_)},$$slots:{default:!0}}),u(x,D),J()}export{me as component};
