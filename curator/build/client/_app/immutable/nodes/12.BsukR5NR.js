import{f,a as d,c as z,t as A}from"../chunks/D6MYdS9h.js";import{p as F,b as P,d as G,u as H,e as o,g as s,h as J,f as k,a as K,s as u,n as M}from"../chunks/CqKpht16.js";import{a as Q}from"../chunks/HfSINFkk.js";import{c as N,i as x}from"../chunks/cli-iPJS.js";import{s as R,g as U,S as V,a as W,b as X}from"../chunks/ZeYipwfv.js";import{D as Y,B as Z,P as ee,a as te,N as ae}from"../chunks/D-VGJNw3.js";import{p as O}from"../chunks/CB1YDqdC.js";import{T as se,a as re,j as oe,b as ne}from"../chunks/IOBaASFu.js";var le=f('<!> <!> <div class="grow"></div> <!> <!>',1),ie=f("<br/>"),de=f("<!> <!> <!>",1),ue=f("<br/>"),pe=f("<!> <!> <!>",1);function Pe(w,L){F(L,!0);let p=P(!1),b=P(!1),g=P(G([]));const j={type:"trash",id:O.params.slug};R("deleted",j);const r=U("deleted"),C=J(()=>X.savedPages.get(O.url.hash)??1),h=async t=>{await r.getDeleted(t),W(t),r.clickedPage=t};let D=P(void 0);H(()=>{o(D,h(s(C)),!0)});var T=pe(),E=k(T);N(E,()=>ne,(t,$)=>{$(t,{children:(c,S)=>{var v=le(),n=k(v);N(n,()=>se,(a,l)=>{l(a,{})});var m=u(n,2);N(m,()=>re,(a,l)=>{l(a,{})});var _=u(m,4);N(_,()=>oe,(a,l)=>{l(a,{get isOpen(){return s(b)},set isOpen(B){o(b,B,!0)}})});var y=u(_,2);Z(y,{get isBulkEdit(){return s(p)},set isBulkEdit(a){o(p,a,!0)},get selectedNotesID(){return s(g)},set selectedNotesID(a){o(g,a,!0)}}),d(c,v)},$$slots:{default:!0}})});var I=u(E,2);V(I,{class:"mb-20 h-[calc(100vh-60px)] overflow-y-auto",children:(t,$)=>{var c=z(),S=k(c);Q(S,()=>s(D),v=>{var n=ue();d(v,n)},v=>{var n=de(),m=k(n);ee(m,{get currentPage(){return r.notes.page},get totalPages(){return r.notes.totalPages},changePage:e=>h(e)});var _=u(m,2);{var y=e=>{te(e,{updatePage:()=>{h(r.clickedPage)},isTrash:!0,get notelistState(){return r},get isBulkEdit(){return s(p)},set isBulkEdit(i){o(p,i,!0)},get selectedNotesID(){return s(g)},set selectedNotesID(i){o(g,i,!0)}})};x(_,e=>{s(p)&&e(y)})}var a=u(_,2);{var l=e=>{ae(e,{update:()=>h(r.clickedPage),get isBulkEdit(){return s(p)},get notes(){return r.notes},get selectedNotesID(){return s(g)},set selectedNotesID(i){o(g,i,!0)}})},B=e=>{var i=ie();d(e,i)};x(a,e=>{r.notes.totalItems>0?e(l):e(B,!1)})}d(v,n)}),d(t,c)},$$slots:{default:!0}});var q=u(I,2);Y(q,{name:"Notes Permanently",action:()=>{r.emptyTrash(),window.history.back()},get isOpen(){return s(b)},set isOpen(t){o(b,t,!0)},children:(t,$)=>{M();var c=A("these notes");d(t,c)},$$slots:{default:!0}}),d(w,T),K()}export{Pe as component};
