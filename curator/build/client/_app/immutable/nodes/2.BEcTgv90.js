import{f as k,a as d,c as z}from"../chunks/D6MYdS9h.js";import{c as P,s as u,n as J,r as D,p as X,b as v,d as Y,e as n,y as Z,f as b,a as ee,g as e,h as te}from"../chunks/CqKpht16.js";import{a as ae}from"../chunks/HfSINFkk.js";import{c as L,i as F}from"../chunks/cli-iPJS.js";import{p as re}from"../chunks/CB1YDqdC.js";import{s as se,g as oe,S as ie,a as ne,b as le}from"../chunks/ZeYipwfv.js";import{I as ce,F as ue,s as de,g as ge,B as pe,S as me,P as ve,a as he,N as fe,e as _e}from"../chunks/D-VGJNw3.js";import{T as Ie,k as be,b as ke}from"../chunks/IOBaASFu.js";var Ne=k('<section class="grid h-full place-items-center"><div>Get Started By <button class="btn mx-2"><a href="/import"><!>Import</a></button> Notes</div></section>');function Se(E){var h=Ne(),f=P(h),l=u(P(f)),c=P(l),x=P(c);ce(x,{class:"mr-2 inline"}),J(),D(c),D(l),J(),D(f),D(h),d(E,h)}var ye=k("<!> <!> <!> <!>",1),Be=k('<div class="grid h-full place-items-center">No Notes Found.</div>'),Te=k("<!> <!> <!>",1),Pe=k("<!> <!> <!>",1);function Ae(E,h){X(h,!0);let f="",l=v(!1),c=v(Y([])),x=v(!0),N=v(!1),O="homepage";se(O,{type:"default"});let t=v(void 0);const o=oe(O),K=te(()=>le.savedPages.get(re.url.hash)??1),g=async s=>{if(ne(s),o.clickedPage=s,!!e(t)){if(!e(t).searchInput&&!e(t).searchNotebookID&&e(t).selectedTagIdArray.length==0){e(t).searchTerm="",e(t).resetCustomFilter(),await o.getByPage(s);return}if(e(t).searchTerm===e(t).searchInput){await o.getByFilter(e(t).customFilter,s);return}await e(t).getSearchTags(f.trim()),await e(t).getSearchNotebook(f.trim()),e(t).makeSearchQuery(e(t).searchInput),await o.getByFilter(e(t).customFilter,s),e(t).searchTerm=e(t).searchInput}};n(x,!1);let C=v(void 0);Z(async()=>{de(),n(t,ge(),!0),e(t).searchTerm&&(e(t).searchInput=e(t).searchTerm),n(C,g(e(K)),!0)});var A=Pe(),G=b(A);L(G,()=>ke,(s,M)=>{M(s,{children:(S,Q)=>{var p=ye(),_=b(p);L(_,()=>Ie,(r,a)=>{a(r,{})});var I=u(_,2);{var y=r=>{me(r,{searchNotes:()=>g(1),clearNote:()=>{e(t).searchTerm="",e(t).resetCustomFilter(),g(1)},get searchInput(){return e(t).searchInput},set searchInput(a){e(t).searchInput=a}})},$=r=>{};F(I,r=>{e(t)?r(y):r($,!1)})}var B=u(I,2);L(B,()=>be,(r,a)=>{a(r,{get isOpen(){return e(N)},set isOpen(i){n(N,i,!0)}})});var w=u(B,2);pe(w,{get isBulkEdit(){return e(l)},set isBulkEdit(r){n(l,r,!0)},get selectedNotesID(){return e(c)},set selectedNotesID(r){n(c,r,!0)}}),d(S,p)},$$slots:{default:!0}})});var H=u(G,2);ie(H,{scrollHideDelay:200,class:"relative mb-20 h-[calc(100vh-60px)] overflow-y-auto",children:(s,M)=>{var S=z(),Q=b(S);ae(Q,()=>e(C),p=>{_e(p)},p=>{var _=Te(),I=b(_);ve(I,{get currentPage(){return o.notes.page},get totalPages(){return o.notes.totalPages},changePage:a=>g(a)});var y=u(I,2);{var $=a=>{he(a,{updatePage:()=>{g(o.clickedPage)},get notelistState(){return o},get isBulkEdit(){return e(l)},set isBulkEdit(i){n(l,i,!0)},get selectedNotesID(){return e(c)},set selectedNotesID(i){n(c,i,!0)}})};F(y,a=>{e(l)&&a($)})}var B=u(y,2);{var w=a=>{fe(a,{get isBulkEdit(){return e(l)},update:()=>g(o.clickedPage),get notes(){return o.notes},get selectedNotesID(){return e(c)},set selectedNotesID(i){n(c,i,!0)}})},r=a=>{var i=z(),U=b(i);{var V=m=>{var T=Be();d(m,T)},W=m=>{Se(m)};F(U,m=>{var T,j,q;(T=e(t))!=null&&T.searchInput||(j=e(t))!=null&&j.searchNotebookID||((q=e(t))==null?void 0:q.selectedTagIdArray.length)>0?m(V):m(W,!1)},!0)}d(a,i)};F(B,a=>{o.notes.totalItems>0?a(w):a(r,!1)})}d(p,_)}),d(s,S)},$$slots:{default:!0}});var R=u(H,2);ue(R,{search:async s=>await o.getByFilter(s,1),get isOpen(){return e(N)},set isOpen(s){n(N,s,!0)}}),d(E,A),ee()}export{Ae as component};
