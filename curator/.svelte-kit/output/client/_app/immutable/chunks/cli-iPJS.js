var se=Object.defineProperty;var N=r=>{throw TypeError(r)};var te=(r,e,s)=>e in r?se(r,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):r[e]=s;var Y=(r,e,s)=>te(r,typeof e!="symbol"?e+"":e,s),F=(r,e,s)=>e.has(r)||N("Cannot "+s);var n=(r,e,s)=>(F(r,e,"read from private field"),s?s.call(r):e.get(r)),_=(r,e,s)=>e.has(r)?N("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(r):e.set(r,s),j=(r,e,s,t)=>(F(r,e,"write to private field"),t?t.call(r,s):e.set(r,s),s);import{W as C,X as ne,Y as T,Z as ie,_ as U,$,B as A,F as ae,a0 as fe,a1 as ue,a2 as G,a3 as H,a4 as ce,a5 as oe,a6 as le,K as de,a7 as z,C as W,D as B,a8 as pe,a9 as I,aa as he,ab as X,g as O,x as _e,P as ve,d as be,e as me,ac as Pe,ad as we,z as Z,ae as q,af as Se,k as xe,ag as ge,ah as Re,ai as ye,aj as S,S as J,R as Q,ak as Oe}from"./CqKpht16.js";var d,p,l,v,x,g,E;class V{constructor(e,s=!0){Y(this,"anchor");_(this,d,new Map);_(this,p,new Map);_(this,l,new Map);_(this,v,new Set);_(this,x,!0);_(this,g,()=>{var e=C;if(n(this,d).has(e)){var s=n(this,d).get(e),t=n(this,p).get(s);if(t)ne(t),n(this,v).delete(s);else{var i=n(this,l).get(s);i&&(n(this,p).set(s,i.effect),n(this,l).delete(s),i.fragment.lastChild.remove(),this.anchor.before(i.fragment),t=i.effect)}for(const[a,u]of n(this,d)){if(n(this,d).delete(a),a===e)break;const f=n(this,l).get(u);f&&(T(f.effect),n(this,l).delete(u))}for(const[a,u]of n(this,p)){if(a===s||n(this,v).has(a))continue;const f=()=>{if(Array.from(n(this,d).values()).includes(a)){var h=document.createDocumentFragment();fe(u,h),h.append(U()),n(this,l).set(a,{effect:u,fragment:h})}else T(u);n(this,v).delete(a),n(this,p).delete(a)};n(this,x)||!t?(n(this,v).add(a),ie(u,f,!1)):f()}}});_(this,E,e=>{n(this,d).delete(e);const s=Array.from(n(this,d).values());for(const[t,i]of n(this,l))s.includes(t)||(T(i.effect),n(this,l).delete(t))});this.anchor=e,j(this,x,s)}ensure(e,s){var t=C,i=ue();if(s&&!n(this,p).has(e)&&!n(this,l).has(e))if(i){var a=document.createDocumentFragment(),u=U();a.append(u),n(this,l).set(e,{effect:$(()=>s(u)),fragment:a})}else n(this,p).set(e,$(()=>s(this.anchor)));if(n(this,d).set(t,e),i){for(const[f,c]of n(this,p))f===e?t.skipped_effects.delete(c):t.skipped_effects.add(c);for(const[f,c]of n(this,l))f===e?t.skipped_effects.delete(c.effect):t.skipped_effects.add(c.effect);t.oncommit(n(this,g)),t.ondiscard(n(this,E))}else A&&(this.anchor=ae),n(this,g).call(this)}}d=new WeakMap,p=new WeakMap,l=new WeakMap,v=new WeakMap,x=new WeakMap,g=new WeakMap,E=new WeakMap;function Me(r,e,s=!1){A&&W();var t=new V(r),i=s?H:0;function a(u,f){if(A){const h=ce(r)===oe;if(u===h){var c=le();de(c),t.anchor=c,z(!1),t.ensure(u,f),z(!0);return}}t.ensure(u,f)}G(()=>{var u=!1;e((f,c=!0)=>{u=!0,a(c,f)}),u||a(!1,null)},i)}function Ke(r,e,s){A&&W();var t=new V(r);G(()=>{var i=e()??null;t.ensure(i,i&&(a=>s(a,i)))},H)}let y=!1;function Ae(r){var e=y;try{return y=!1,[r(),y]}finally{y=e}}const Ee={get(r,e){if(!r.exclude.includes(e))return r.props[e]},set(r,e){return!1},getOwnPropertyDescriptor(r,e){if(!r.exclude.includes(e)&&e in r.props)return{enumerable:!0,configurable:!0,value:r.props[e]}},has(r,e){return r.exclude.includes(e)?!1:e in r.props},ownKeys(r){return Reflect.ownKeys(r.props).filter(e=>!r.exclude.includes(e))}};function Ne(r,e,s){return new Proxy({props:r,exclude:e},Ee)}const De={get(r,e){if(!r.exclude.includes(e))return O(r.version),e in r.special?r.special[e]():r.props[e]},set(r,e,s){if(!(e in r.special)){var t=B;try{q(r.parent_effect),r.special[e]=Ie({get[e](){return r.props[e]}},e,X)}finally{q(t)}}return r.special[e](s),Z(r.version),!0},getOwnPropertyDescriptor(r,e){if(!r.exclude.includes(e)&&e in r.props)return{enumerable:!0,configurable:!0,value:r.props[e]}},deleteProperty(r,e){return r.exclude.includes(e)||(r.exclude.push(e),Z(r.version)),!0},has(r,e){return r.exclude.includes(e)?!1:e in r.props},ownKeys(r){return Reflect.ownKeys(r.props).filter(e=>!r.exclude.includes(e))}};function Ye(r,e){return new Proxy({props:r,exclude:e,special:{},version:pe(0),parent_effect:B},De)}const Te={get(r,e){let s=r.props.length;for(;s--;){let t=r.props[s];if(S(t)&&(t=t()),typeof t=="object"&&t!==null&&e in t)return t[e]}},set(r,e,s){let t=r.props.length;for(;t--;){let i=r.props[t];S(i)&&(i=i());const a=I(i,e);if(a&&a.set)return a.set(s),!0}return!1},getOwnPropertyDescriptor(r,e){let s=r.props.length;for(;s--;){let t=r.props[s];if(S(t)&&(t=t()),typeof t=="object"&&t!==null&&e in t){const i=I(t,e);return i&&!i.configurable&&(i.configurable=!0),i}}},has(r,e){if(e===J||e===Q)return!1;for(let s of r.props)if(S(s)&&(s=s()),s!=null&&e in s)return!0;return!1},ownKeys(r){const e=[];for(let s of r.props)if(S(s)&&(s=s()),!!s){for(const t in s)e.includes(t)||e.push(t);for(const t of Object.getOwnPropertySymbols(s))e.includes(t)||e.push(t)}return e}};function Fe(...r){return new Proxy({props:r},Te)}function Ie(r,e,s,t){var M;var i=!ge||(s&Re)!==0,a=(s&Se)!==0,u=(s&Oe)!==0,f=t,c=!0,h=()=>(c&&(c=!1,f=u?xe(t):t),f),m;if(a){var k=J in r||Q in r;m=((M=I(r,e))==null?void 0:M.set)??(k&&e in r?o=>r[e]=o:void 0)}var P,L=!1;a?[P,L]=Ae(()=>r[e]):P=r[e],P===void 0&&t!==void 0&&(P=h(),m&&(i&&he(),m(P)));var b;if(i?b=()=>{var o=r[e];return o===void 0?h():(c=!0,o)}:b=()=>{var o=r[e];return o!==void 0&&(f=void 0),o===void 0?f:o},i&&(s&X)===0)return b;if(m){var ee=r.$$legacy;return(function(o,R){return arguments.length>0?((!i||!R||ee||L)&&m(R?b():o),o):b()})}var D=!1,w=((s&ye)!==0?_e:ve)(()=>(D=!1,b()));a&&O(w);var re=B;return(function(o,R){if(arguments.length>0){const K=R?O(w):i&&a?be(o):o;return me(w,K),D=!0,f!==void 0&&(f=K),o}return Pe&&D||(re.f&we)!==0?w.v:O(w)})}export{V as B,Ke as c,Me as i,Ye as l,Ie as p,Ne as r,Fe as s};
