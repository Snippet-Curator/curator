import{f as O,b as oe,a as r,c as ee,t as b,s as ae}from"./D6MYdS9h.js";import{p as ie,f as D,e as i,g as t,b as j,h as te,s as o,a as de,n as w,c as h,r as x,A as ne,t as ue}from"./CqKpht16.js";import{p as ve,i as re,c as _}from"./cli-iPJS.js";import{e as ce,i as _e,b as we}from"./HfSINFkk.js";import{e as Oe,k as fe,j as ye,d as Ne}from"./ZeYipwfv.js";import{p as pe}from"./CB1YDqdC.js";import{D as me,C as $e,f as ge,T as he,h as xe,i as I,j as Pe,R as be}from"./D-VGJNw3.js";var Te=O('<a><!> </a> <span class="text-base-content/80 text-right"> </span>',1),Se=O("<!> <!> <!> <!> <!> <!>",1),Ce=O("<!> <!>",1),De=O("<ul><!></ul>"),Ee=O('<details class="w-full cursor-pointer"><summary class="mr-4 flex w-full py-0 pl-0"><div class="grow"><!></div></summary> <!></details>'),ke=O('<li class="group mr-4"><!></li>'),Re=O("<!> <!> <!> <!>",1);function je(U,E){ie(E,!0);const L=(s,e=ne)=>{var l=ee(),J=D(l);_(J,()=>be,(K,f)=>{f(K,{children:(R,Z)=>{var z=Ce(),k=D(z);_(k,()=>he,(m,y)=>{y(m,{class:"flex cursor-auto items-center justify-between p-0 pr-2",children:(S,N)=>{var c=Te(),p=D(c),g=h(p);we(g,{size:15});var T=o(g,1,!0);x(p);var C=o(p,2),A=h(C,!0);x(C),ue(()=>{fe(p,"href",`/tags/${e().id??""}`),ye(p,1,`${pe.url.hash==`/tags/${e().id}`?"badge-neutral":""} badge hover:badge-neutral mx-2 my-2 flex items-center gap-x-2 text-nowrap transition-colors`),ae(T,e().name),ae(A,e().note_count)}),r(S,c)},$$slots:{default:!0}})});var P=o(k,2);_(P,()=>xe,(m,y)=>{y(m,{children:(S,N)=>{var c=Se(),p=D(c);_(p,()=>I,(a,n)=>{n(a,{onSelect:()=>{$.pin(e().id)},children:(u,q)=>{w();var v=b("Pin");r(u,v)},$$slots:{default:!0}})});var g=o(p,2);_(g,()=>I,(a,n)=>{n(a,{onSelect:()=>{i(d,e(),!0),i(Q,!0)},children:(u,q)=>{w();var v=b("Rename");r(u,v)},$$slots:{default:!0}})});var T=o(g,2);_(T,()=>I,(a,n)=>{n(a,{onSelect:()=>{i(d,e(),!0),i(G,!0)},children:(u,q)=>{w();var v=b("Change Parent");r(u,v)},$$slots:{default:!0}})});var C=o(T,2);_(C,()=>I,(a,n)=>{n(a,{onSelect:()=>{i(d,e(),!0),i(F,!0)},children:(u,q)=>{w();var v=b("Delete");r(u,v)},$$slots:{default:!0}})});var A=o(C,2);_(A,()=>Pe,(a,n)=>{n(a,{})});var M=o(A,2);_(M,()=>I,(a,n)=>{n(a,{onSelect:()=>{i(d,e(),!0),i(H,!0)},children:(u,q)=>{w();var v=b("New");r(u,v)},$$slots:{default:!0}})}),r(S,c)},$$slots:{default:!0}})}),r(R,z)},$$slots:{default:!0}})}),r(s,l)};let B=ve(E,"allowEdit",3,!1);const $=Oe();let Q=j(!1),F=j(!1),G=j(!1),H=j(!1),d=j(void 0),se=te(()=>$.flatTags);var V=Re(),W=D(V);oe(W,{failed:e=>{w();var l=b("Tags Failed to Render");r(e,l)}},e=>{var l=ee(),J=D(l);ce(J,17,()=>E.tags,_e,(K,f)=>{var R=ke(),Z=h(R);{var z=P=>{var m=Ee(),y=h(m),S=h(y),N=h(S);L(N,()=>t(f)),x(S),x(y);var c=o(y,2);{var p=g=>{var T=De(),C=h(T);je(C,{get allowEdit(){return B()},get tags(){return t(f).children}}),x(T),r(g,T)};re(c,g=>{t(f).children&&g(p)})}x(m),r(P,m)},k=P=>{L(P,()=>t(f))};re(Z,P=>{var m;t(f).children&&((m=t(f).children)==null?void 0:m.length)>0?P(z):P(k,!1)})}x(R),r(K,R)}),r(e,l)});var X=o(W,2);me(X,{name:"Tag",action:()=>$.delete(t(d).id),get isOpen(){return t(F)},set isOpen(s){i(F,s,!0)},children:(s,e)=>{w();var l=b("this tag?");r(s,l)},$$slots:{default:!0}});var Y=o(X,2);{let s=te(()=>{var e;return(e=t(d))==null?void 0:e.id});$e(Y,{type:"tag",get fullList(){return t(se)},get currentItemID(){return t(s)},clear:()=>{var e;return $.updateOnebyParent((e=t(d))==null?void 0:e.id,"")},action:e=>{var l;return $.updateOnebyParent((l=t(d))==null?void 0:l.id,e)},get isOpen(){return t(G)},set isOpen(e){i(G,e,!0)}})}var le=o(Y,2);ge(le,{newType:"Tag",action:s=>$.createOnebyName(s,t(d).id),get isOpen(){return t(H)},set isOpen(s){i(H,s,!0)}}),r(U,V),de()}const Ie=(U,E=ne)=>{var L=Le(),B=h(L),$=h(B,!0);x(B);var Q=o(B,2),F=h(Q,!0);x(Q),x(L),ue(()=>{fe(B,"href",`/notebook/${E().id??""}`),ae($,E().name),ae(F,E().note_count)}),r(U,L)};var Le=O('<div class=" flex w-full items-center justify-between"><a class="w-full items-center gap-x-2 text-nowrap px-3 py-1"> </a> <span class="text-right"> </span></div>'),Fe=O("<!> <!> <!> <!> <!> <!>",1),ze=O("<!> <!>",1),Ae=O("<ul><!></ul>"),qe=O('<details class="w-full"><summary class="flex w-full py-0 pl-0"><div class="grow"><!></div></summary> <!></details>'),Be=O('<li class="group mr-4"><!></li>'),Ge=O("<!> <!> <!> <!>",1);function He(U,E){ie(E,!0);const L=(s,e=ne)=>{var l=ee(),J=D(l);_(J,()=>be,(K,f)=>{f(K,{children:(R,Z)=>{var z=ze(),k=D(z);{let m=te(()=>pe.url.pathname==`/notebook/${e().id}`?" bg-neutral text-neutral-content":"");_(k,()=>he,(y,S)=>{S(y,{get class(){return`${t(m)??""} my-1 flex cursor-auto items-center justify-between rounded-md p-0 pr-2`},children:(N,c)=>{Ie(N,e)},$$slots:{default:!0}})})}var P=o(k,2);_(P,()=>xe,(m,y)=>{y(m,{children:(S,N)=>{var c=Fe(),p=D(c);_(p,()=>I,(a,n)=>{n(a,{onSelect:()=>{$.pin(e().id)},children:(u,q)=>{w();var v=b("Pin");r(u,v)},$$slots:{default:!0}})});var g=o(p,2);_(g,()=>I,(a,n)=>{n(a,{onSelect:()=>{i(d,e(),!0),i(Q,!0)},children:(u,q)=>{w();var v=b("Rename");r(u,v)},$$slots:{default:!0}})});var T=o(g,2);_(T,()=>I,(a,n)=>{n(a,{onSelect:()=>{i(d,e(),!0),i(G,!0)},children:(u,q)=>{w();var v=b("Change Parent");r(u,v)},$$slots:{default:!0}})});var C=o(T,2);_(C,()=>I,(a,n)=>{n(a,{onSelect:()=>{i(d,e(),!0),i(F,!0)},children:(u,q)=>{w();var v=b("Delete");r(u,v)},$$slots:{default:!0}})});var A=o(C,2);_(A,()=>Pe,(a,n)=>{n(a,{})});var M=o(A,2);_(M,()=>I,(a,n)=>{n(a,{onSelect:()=>{i(d,e(),!0),i(H,!0)},children:(u,q)=>{w();var v=b("New");r(u,v)},$$slots:{default:!0}})}),r(S,c)},$$slots:{default:!0}})}),r(R,z)},$$slots:{default:!0}})}),r(s,l)};let B=ve(E,"allowEdit",3,!1);const $=Ne();let Q=j(!1),F=j(!1),G=j(!1),H=j(!1),d=j(void 0),se=te(()=>$.flatNotebooks);var V=Ge(),W=D(V);oe(W,{failed:e=>{w();var l=b("NotebookList Failed to Render");r(e,l)}},e=>{var l=ee(),J=D(l);ce(J,17,()=>E.notebooks,_e,(K,f)=>{var R=ee(),Z=D(R);{var z=k=>{var P=Be(),m=h(P);{var y=N=>{var c=qe(),p=h(c),g=h(p),T=h(g);L(T,()=>t(f)),x(g),x(p);var C=o(p,2);{var A=M=>{var a=Ae(),n=h(a);He(n,{get allowEdit(){return B()},get notebooks(){return t(f).children}}),x(a),r(M,a)};re(C,M=>{t(f).children&&M(A)})}x(c),r(N,c)},S=N=>{L(N,()=>t(f))};re(m,N=>{var c;((c=t(f).children)==null?void 0:c.length)>0?N(y):N(S,!1)})}x(P),r(k,P)};re(Z,k=>{t(f).name!="Inbox"&&k(z)})}r(K,R)}),r(e,l)});var X=o(W,2);me(X,{name:"Notebook",action:()=>$.delete(t(d).id),get isOpen(){return t(F)},set isOpen(s){i(F,s,!0)},children:(s,e)=>{w();var l=b("this notebook?");r(s,l)},$$slots:{default:!0}});var Y=o(X,2);{let s=te(()=>{var e;return(e=t(d))==null?void 0:e.id});$e(Y,{type:"notebook",get fullList(){return t(se)},get currentItemID(){return t(s)},clear:()=>{var e;return $.updateOnebyParent((e=t(d))==null?void 0:e.id,"")},action:e=>{var l;return $.updateOnebyParent((l=t(d))==null?void 0:l.id,e)},get isOpen(){return t(G)},set isOpen(e){i(G,e,!0)}})}var le=o(Y,2);ge(le,{newType:"Notebook",action:s=>$.createOnebyName(s,t(d).id),get isOpen(){return t(H)},set isOpen(s){i(H,s,!0)}}),r(U,V),de()}export{He as N,je as T};
